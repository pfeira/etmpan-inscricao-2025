<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Inscrição Campeonato ETMPAN</title>

    <style>
    /* Reset básico e configuração do body */
  	body { 
      font-family: Arial, sans-serif; 
      background: #f2f2f2; 
      display: flex; 
      justify-content: center; 
      align-items: center; 
      height: 100vh; /* Ocupa 100% da altura da tela */
      margin: 0; 
      padding: 20px;
      box-sizing: border-box; /* Garante que o padding não estoure a tela */
    }

    /* Define a altura máxima do card */
  	.card { 
      display: flex; 
      background: #fff; 
      border-radius: 12px; 
      box-shadow: 0 4px 8px rgba(0,0,0,0.2); 
      overflow: hidden; 
      width: 100%; 
      max-width: 950px; 
      max-height: 90vh; /* O card nunca será maior que 90% da altura da tela */
    }

    /* Coluna da Imagem (Esquerda) */
  	.card-image { 
      width: 350px; 
      flex-shrink: 0; 
      background-color: #f0f0f0; 
      height: 100%; /* Ocupa a altura total do .card */
    }

    /* Faz a imagem caber na coluna */
  	.card-image img { 
      width: 100%; 
      height: 100%; 
      object-fit: contain; /* Garante que a imagem caiba sem distorcer */
      display: block; 
    }

    /* Coluna do Formulário (Direita) com scroll interno */
  	.card-content { 
      flex: 1; 
      padding: 25px; 
      display: flex; 
      flex-direction: column; 
      overflow-y: auto; /* Adiciona scroll SÓ AQUI se o conteúdo for muito alto */
    }

    /* --- Resto do Estilo --- */
  	.card-header { 
      display: flex; 
      justify-content: flex-end; 
      gap: 10px; 
      margin-bottom: 20px; 
    }
  	.header-btn { 
      background-color: #0D47A1; 
      color: white; 
      padding: 10px 15px; 
      border-radius: 8px; 
      text-decoration: none; 
      font-weight: bold; 
      font-size: 0.9em; 
      text-align: center; 
      transition: background-color: 0.3s; 
    }
  	.header-btn:hover { background-color: #1976D2; }
  	.form-container { 
      flex-grow: 1; 
      display: flex; 
      flex-direction: column; 
      justify-content: space-between; 
    }
  	.box { 
      border: 1px solid #ccc; 
      border-radius: 8px; 
      padding: 15px; 
      margin-bottom: 15px; 
    }
  	.box input[type="text"] { 
      width: calc(100% - 16px); 
      padding: 8px; 
      border: 1px solid #ccc; 
      border-radius: 4px; 
    }
  	.box input[type="text"]:first-child { margin-bottom: 10px; }
  	.divisoes label { 
      margin-right: 15px; 
      cursor: pointer; 
      display: inline-block; 
      margin-bottom: 5px; 
    }
  	button[type="submit"] { 
      width: 100%; 
      background: #28a745; 
      color: white; 
      padding: 12px 20px; 
      border: none; 
      border-radius: 6px; 
      cursor: pointer; 
      font-size: 16px; 
      font-weight: bold; 
    }
  	.valores { 
      background: #007BFF; 
      color: white; 
      border-radius: 8px; 
      padding: 15px; 
      text-align: center; 
      margin-top: 20px; 
    }
  	.pix { margin-top: 15px; font-weight: bold; font-size: 1.1em; }
  	.msg { margin-top: 15px; padding: 10px; border-radius: 6px; display: none; text-align: center; }
  	.msg.success { background: #28a745; color: white; }
  	.msg.error { background: #dc3545; color: white; }
  	.valores-container { 
      display: flex; 
      justify-content: space-between; 
      gap: 10px; 
      margin-top: 15px; 
      flex-wrap: wrap; /* Permite quebrar a linha */
    }
  	.valor-box { 
      flex: 1 1 120px; /* Base de 120px, permitindo crescer */
      background: rgba(255, 255, 255, 0.15); 
      border-radius: 8px; 
      padding: 10px; 
      text-align: center; 
    }
  	.valor-box h4 { margin: 0 0 5px 0; font-size: 0.9em; font-weight: normal; text-transform: uppercase; }
  	.valor-box p { margin: 0; font-size: 0.9em; line-height: 1.4; font-weight: bold; }
  </style>
</head>
<body>
    <div class="card">
    
      	<div class="card-image">
          	<img src="etmpan.png" alt="Campeonato ETMPAN" id="poster-campeonato">
  	</div>
    
      	<div class="card-content">
    	<div class="card-header">
      	<a href="como-se-inscrever.html" class="header-btn">COMO SE INSCREVER</a>
      	<a href="regulamento.html" class="header-btn">REGULAMENTO</a>
    	</div>
    	<div class="form-container">
      	<form id="formInscricao">
        	<div class="box">
          	<input type="text" name="nome" placeholder="Nome" required>
          	<input type="text" name="sobrenome" placeholder="Sobrenome" required>
        	</div>
        	<div class="box divisoes">
          	<p style="margin:0 0 10px 0; font-size: 0.9em; color: #555;">Escolha até duas divisões:</p>
          	<label><input type="checkbox" name="divisao" value="1ª Divisão"> 1ª Divisão</label>
          	<label><input type="checkbox" name="divisao" value="2ª Divisão"> 2ª Divisão</label>
          	<label><input type="checkbox" name="divisao" value="3ª Divisão"> 3ª Divisão</label>
                      	<label><input type="checkbox" name="divisao" value="TOP12"> TOP12</label> 
        	</div>
        	<button type="submit">Enviar Inscrição</button>
      	</form>
      	<div id="mensagem" class="msg"></div>
      	<div class="valores">
        	<h3>VALORES</h3>
        	<div class="valores-container">
          	<div class="valor-box"><h4>Estudante</h4><p>R$ 20</p></div>
          	<div class="valor-box"><h4>Sócio</h4><p>01 DIV R$ 25<br>02 DIV R$ 30</p></div>
          	<div class="valor-box"><h4>Não Sócio</h4><p>01 DIV R$ 40<br>02 DIV R$ 60</p></div>
                      	<div class="valor-box"><h4>TOP12</h4><p>R$ 40</p></div>
        	</div>
        	<div class="pix">PIX ÂNGELO NETO: 71-99935-3004</div>
      	</div>
    	</div>
  	</div>
  </div>

    <script>
  	const scriptURL = "https://script.google.com/macros/s/AKfycbzq3J50mZmaHq97t8f0sGLRKF14856umOr9_0W5JGTPx7UKe3d8lDz7kbnp07ypMAMz/exec";
  	const form = document.getElementById("formInscricao");
  	const msgBox = document.getElementById("mensagem");
  	form.addEventListener("submit", e => {
    	e.preventDefault();
    	const divisoesSelecionadas = document.querySelectorAll('input[name="divisao"]:checked').length;
    	if (divisoesSelecionadas === 0) {
      	msgBox.textContent = "Por favor, selecione pelo menos uma divisão.";
      	msgBox.className = "msg error";
      	msgBox.style.display = "block";
      	return;
    	}
    	const submitButton = form.querySelector('button[type="submit"]');
    	submitButton.textContent = 'Enviando...';
    	submitButton.disabled = true;
  	  const formData = new FormData(form);
  	  fetch(scriptURL, { method: "POST", body: formData })
    	.then(response => response.json())
    	.then(data => {
      	if (data.result === "success") {
        	msgBox.textContent = data.message;
        	msgBox.className = "msg success";
        	form.reset();
      	} else {
        	throw new Error(data.message || 'Falha na resposta do servidor.');
      	}
    	})
    	.catch(error => {
    	  msgBox.textContent = "Erro ao enviar inscrição: " + error.message;
    	  msgBox.className = "msg error";
    	})
    	.finally(() => {
    	  msgBox.style.display = "block";
    	  submitButton.textContent = 'Enviar Inscrição';
    	  submitButton.disabled = false;
    	  setTimeout(() => { msgBox.style.display = "none"; }, 5000);
    	});
  	});
  	const checkboxesDivisao = document.querySelectorAll('input[name="divisao"]');
  	const maxSelecoes = 2;
  	checkboxesDivisao.forEach(checkbox => {
    	checkbox.addEventListener('change', () => {
      	const selecionados = document.querySelectorAll('input[name="divisao"]:checked').length;
      	if (selecionados > maxSelecoes) {
        	alert(`Você pode selecionar no máximo ${maxSelecoes} divisões.`);
        	checkbox.checked = false;
      	}
    	});
  	});
  	const posterImg = document.getElementById('poster-campeonato');
  	posterImg.onerror = function() {
  	  const imageContainer = document.querySelector('.card-image');
  	  if(imageContainer) {
    	  imageContainer.style.display = 'none';
    	}
  	};
  </script>
</body>
</html>
